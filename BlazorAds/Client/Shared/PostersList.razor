@using BlazorAds.Shared
@inject HttpClient Http;

<h3>Последние объявления</h3>
<ul class="list-unstyledl">
    @foreach (var ad in Posters)
   {
       <li class="oi-media-pause my-3">
           <div class="media-img-wrapper mr-2">
               <a href = "#">
                   <img class="media-img" src="@ad.ImageUrl" alt="@ad.Title">
               </a>
           </div>
           <div class="media-body">
               <a href = "#">
                   <h4 class="mb-0">@ad.Title</h4>
               </a>
               <p>@ad.Description</p>
               <h5 class="price">
                   $@ad.Price
               </h5>
           </div>

       </li>
   }
</ul>

@code {
    private static List<Poster> Posters = new List<Poster>();
    protected override async Task OnInitializedAsync()
    {
        var result = await Http.GetFromJsonAsync<List<Poster>>("api/poster");
        if (result != null)
            Posters = result;
    }

}
